function FormatFraction(j,e,f,c,i){var g=parseFloat(j),h=parseInt(e===undefined?0:e),d=parseInt(f===undefined?2:f),a=parseInt(c===undefined?1:c),b=i||false;return 0==h?findRationalApprox(g,d,a,b):decomposeByDenominator(g,d,a,b)}function UnformatFraction(d){var b=0,c,f=/^([-]?)((\d+)|(\d+)\s+(\d+)[/](\d+)|(\d+)[/](\d+))$/,a=f.exec(d);if(null==a)return parseFloat(d);var e=!a[1]?null:a[1];if(a[3])b+=parseInt(a[3]);else if(a[4]&&a[5]&&a[6]){b+=parseInt(a[4]);c=parseInt(a[6]);if(c!=0)b+=parseFloat(a[5])/c}else if(a[7]&&a[8]){c=parseInt(a[8]);if(c!=0)b+=parseFloat(a[7])/c}if(e=="-")b=-1*b;return b}function findRationalApprox(m,h,o,p){var b=10+2;if(h<1||h>8)return null;var a,e=new Array(b),f=new Array(b),d=new Array(b),c=new Array(b),i=0,k=0,n=1/Math.log(10),j=0;a=0;d[a]=0;c[a]=1;a=1;d[a]=1;c[a]=0;a=2;e[a]=m;var l=true,g=false;do{if(!l){i=e[a-1]-f[a-1];g=Math.abs(i)<=1e-9;if(!g)e[a]=1/i}else{e[a]=m;l=false}if(!g){f[a]=Math.floor(e[a]);d[a]=f[a]*d[a-1]+d[a-2];c[a]=f[a]*c[a-1]+c[a-2];k=Math.log(c[a])*n;j=Math.floor(k+1);g=j>h;if(!g){++a;if(a>=b){e[0]=e[b-3];e[1]=e[b-2];e[2]=e[b-1];f[0]=f[b-3];f[1]=f[b-2];f[2]=f[b-1];d[0]=d[b-3];d[1]=d[b-2];d[2]=d[b-1];c[0]=c[b-3];c[1]=c[b-2];c[2]=c[b-1];a=2}}}}while(!g);return formatPQ(d[a-1],c[a-1],o,p)}function decomposeByDenominator(e,a,b,c){var d=Math.round(e*a);return formatPQ(d,a,b,c)}function formatPQ(b,a,h,g){var c,e=signum(b)*signum(a);b=Math.abs(b);a=Math.abs(a);if(a==1||b>=a&&h==1){var f=e*Math.floor(b/a),d=b%a;if(0==d)return""+f;c=g?calcGCD(d,a):1;return 1==c?""+f+" "+d+"/"+a:""+f+" "+d/c+"/"+a/c}else if(b==0)return"0";else{c=g?calcGCD(b,a):1;return 1==c?""+e*b+"/"+a:""+e*(b/c)+"/"+a/c}}function signum(a){return a<0?-1:a>0?1:0}function calcGCD(a,b){while(a!=b)if(a>b)a=a-b;else b=b-a;return a};