var Tooltip=function(){function a(){this.eventData={timerId:null,src:null,visible:false,key:null,cancelled:false,pt:{x:0,y:0},optionId:null};this.tipElement=null;this.lastSrc=null;this.lastTooltipId=null;this.lastTooltipInfo=null}a.prototype={clearLast:function(){this.lastTooltipId=null;this.lastTooltipInfo=null},show:function(c,e){var b=getEventSource(c),a=this.eventData;this.setPosition(c,a);if(b!=a.src||!a.visible){if(a.timerId){clearTimeout(a.timerId);a.timerId=null}a.src=b;a.key=e;a.cancelled=false;a.optionId=expGetOptionId(b);var f=this.showImpl,d=this;a.timerId=setTimeout(function(){f(d)},500)}else a.visible&&this.showImpl(this)},hide:function(){var a=this.eventData;a.cancelled=true;a.optionId=null;this.fadeOut(100)},createTooltip:function(c,b){if(!b.InnerHtml||0==b.InnerHtml.length)return;var d=c.eventData,a=$c("div",document.body);a.className="xTooltip";a.style.left=d.pt.x;a.style.top=d.pt.y;a.style.visibility="hidden";a.innerHTML=b.InnerHtml;c.tipElement=a;c.fadeIn(100)},showImpl:function(a){var b=a.eventData;if(b.cancelled)return;if(b.timerId)b.timerId=null;if(a.tipElement){a.tipElement.style.left=b.pt.x;a.tipElement.style.top=b.pt.y;return}var c=b.key+b.optionId;if(a.lastTooltipId==c&&a.lastTooltipInfo){a.createTooltip(a,a.lastTooltipInfo);return}a.lastTooltipId=c;var d=a.getRootUrl()+"/configurator/handlers/TooltipHandler.ashx?key="+b.key+"&cid="+b.optionId;$get(d,"Tooltip retrieval error",a.processResponse,a)},setPosition:function(a,c){var b=16;if(a.pageX||a.pageY){c.pt.x=a.pageX+b+"px";c.pt.y=a.pageY+b+"px"}else{c.pt.x=a.clientX+document.body.scrollLeft+b+"px";c.pt.y=a.clientY+document.body.scrollTop+b+"px"}},fadeIn:function(c){this.eventData.visible=true;var a=this.tipElement;if(!a)return;a.style.opacity=0;a.style.filter="alpha(opacity=0)";a.style.visibility="visible";if(c)var b=0,d=setInterval(function(){b+=25/c;if(b>=1){clearInterval(d);b=1}a.style.opacity=b;a.style.filter="alpha(opacity="+b*100+")"},25);else{a.style.opacity=1;a.style.filter="alpha(opacity=1)"}},fadeOut:function(d){if(!this.tipElement)return;this.eventData.visible=false;var c=function(b){var a=b.tipElement.style;a.opacity=0;a.filter="alpha(opacity=0)";a.display="none";a.visibility="hidden";document.body.removeChild(b.tipElement);b.tipElement=null},b=this;if(d)var a=1,e=setInterval(function(){var g=b.tipElement;if(!g)clearInterval(e);else{a-=25/d;if(a<=0)c(b);else{var f=g.style;f.opacity=a;f.filter="alpha(opacity="+a*100+")"}}},25);else c(b)},processResponse:function(e,d){var c=e.responseText,a;try{a=JSON.parse(c)}catch(f){a=eval("("+c+")")}var b=d;b.lastTooltipInfo=a;b.createTooltip(b,a)},getRootUrl:function(){var e=/\/experlogix\/(\(S\([^\)]+\)\))\//i,b=location.href,c=b.toLowerCase().lastIndexOf("/experlogix/");if(-1==c)c=b.lastIndexOf("/");var a=c>0?b.substring(0,c):b;if(a[a.length-1]=="/")a=a.substring(0,a.length-1);var d=e.exec(location.href);if(d){var f=d[1];a=a+"/experlogix/"+f}else a=a+"/experlogix";return a}};return a}(),tip=new Tooltip;